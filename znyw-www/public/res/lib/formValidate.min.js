var formValidate={defaultConfig:{showFocus:function(d,b,c,a){},showError:function(d,b,c,a){},showSuccess:function(d,b,c,a){},clearTips:function(a,b,c){}},setDefaultConfig:function(a){var b=this;b.defaultConfig=$.extend({},b.defaultConfig,a)},init:function(c){var e=this;var a=function(i){var f={queues:[]};f=$.extend({},f,i);var g=null;var h={run:function(k){if(g!=null){console.log("ajaxQueue正在执行中。。请等待。");return}var j={index:0,isBusy:false,isComplete:false};if(f.queues==undefined||f.queues.length<=0){console.log("ajaxQueue error:queues没有任何任务。");return}var l={_break:function(){j.isComplete=true}};g=setInterval(function(){if(j.isBusy==true){return}if(j.isComplete){clearInterval(g);g=null;if(k){k()}return}j.isBusy=true;var n=f.queues[j.index];var o={};if(n.inner_paras){o=n.inner_paras}var m={url:n.url,data:n.data==undefined?{}:n.data,dataType:n.dataType,method:n.method==undefined?"get":n.method,success:function(p){if(n.success){n.success(p,l,o)}j.isBusy=false;if(j.index>=f.queues.length){j.isComplete=true}},error:function(){if(n.error){n.error(l,o)}j.isBusy=false;if(j.index>=f.queues.length){j.isComplete=true}}};$.ajax(m);j.index++},10)}};return h};var d={showFocus:function(i,g,h,f){},showError:function(i,g,h,f){},showSuccess:function(i,g,h,f){},clearTips:function(f,g,h){},validate:{}};d=$.extend({},d,e.defaultConfig);d=$.extend({},d,c);var b={clearAllTips:function(){for(var f in d.validate){var g=d.validate[f];if(g!=undefined){d.clearTips(f,g.tipsElement,g.iptElement)}}},showFocus:function(g,h){var f=d.validate[g];if(f==undefined){return}if(f.showFocus!=undefined){f.showFocus(g,f.tipsElement,h,f.iptElement)}else{d.showFocus(g,f.tipsElement,h,f.iptElement)}},showInfo:function(g,h){var f=d.validate[g];if(f==undefined){return}if(f.showFocus!=undefined){f.showFocus(g,f.tipsElement,h,f.iptElement)}else{d.showFocus(g,f.tipsElement,h,f.iptElement)}},showSuccess:function(g,h){var f=d.validate[g];if(f==undefined){return}if(f.showSuccess!=undefined){f.showSuccess(g,f.tipsElement,h,f.iptElement)}else{d.showSuccess(g,f.tipsElement,h,f.iptElement)}},showError:function(g,h){var f=d.validate[g];if(f==undefined){return}if(f.showError!=undefined){f.showError(g,f.tipsElement,h,f.iptElement)}else{d.showError(g,f.tipsElement,h,f.iptElement)}},clearTips:function(g){var f=d.validate[g];if(f==undefined){return}if(f.clearTips!=undefined){f.clearTips(g,f.tipsElement,f.iptElement)}else{d.clearTips(g,f.tipsElement,f.iptElement)}},validateAll:function(j){var i=this;var g={callback:function(k){}};var f=[];for(var h in d.validate){f.push(h)}i.validateMutiRules(f,j)},validateMutiRules:function(o,k){var g=this;var l=[];var p={callback:function(){}};if(typeof(k)=="function"){p.callback=function(){k()}}else{p=$.extend({},p,k)}for(var q=0;q<o.length;q++){var i=d.validate[o[q]];if(i==undefined){}else{i.taskName=o[q];l.push(i)}}if(l.length<=0){console.warn("任何需要验证的规则！！！！");return}var h=function(u){var s={queues:[]};s=$.extend({},s,u);var r=null;var t={run:function(w){if(r!=null){console.warn("taskQueue正在执行中。。请等待。");return}var v={index:0,isBusy:false,isComplete:false};if(s.queues==undefined||s.queues.length<=0){console.warn("ajaxQueue error:queues没有任何任务。");return}var x={_break:function(){v.isComplete=true},setBusy:function(y){v.isBusy=y},increase:function(){v.index++;if(v.index>=s.queues.length){v.isComplete=true}}};r=setInterval(function(){if(v.isBusy==true){console.log("muti interval控制器在忙。");return}if(v.isComplete){clearInterval(r);r=null;if(w){w()}return}v.isBusy=true;var z=s.queues[v.index];if(z){var y=z.data;z.run(x,y)}},20)}};return t};var n=[];var m=true;for(var f=0;f<l.length;f++){n.push({data:l[f],run:function(s,r){g.validateRule(r.taskName,function(t){s.setBusy(false);s.increase();if(t){}else{m=false}})}})}var j=h({queues:n});j.run(function(){if(p.callback){p.callback(m)}})},validateRule:function(n,r){var m=this;var s={callback:function(t){}};if(typeof(r)=="function"){s.callback=r}else{s=$.extend({},s,r)}var q=d.validate[n];if(q==undefined){return}var i=q.getValue();var h=true;if(q.functionValidate==undefined&&(q.ajaxValdiate==undefined||q.ajaxValidate.length<=0)){m.showSuccess(n,q.successMsg);if(s.callback){s.callback(true)}return}if(q.functionValidate!=undefined){var l=q.functionValidate(i);if(l==false||typeof l=="string"){var o=typeof(l)=="string"?l:q.errorMsg;m.showError(n,o);if(s.callback){s.callback(false)}return}if(q.ajaxValidate==undefined||q.ajaxValidate.length<=0){m.showSuccess(n,q.successMsg);if(s.callback){s.callback(true)}return}}if(q.ajaxValidate==undefined||q.ajaxValidate.length<=0){if(s.callback){s.callback(true)}return}var j=[];for(var p=0;p<q.ajaxValidate.length;p++){var g=q.ajaxValidate[p];var f={url:g.url,inner_paras:$.extend({},g),data:g.data==undefined?{}:(typeof(g.data)=="function"?g.data():g.data),dataType:g.dataType,method:g.method==undefined?"get":g.method,success:function(w,x,v){if(v.success){var t=v.success(w);if(t==false||typeof(t)=="string"){x._break();var u=q.errorMsg;if(typeof(t)=="string"){u=t}h=false;m.showError(n,u);return}else{}}else{x._break();h=false;m.showError(n,q.errorMsg);return}},error:function(w,v){if(v.error){var t=v.error();if(t==false||typeof(t)=="string"){w._break();var u=q.errorMsg;if(typeof(t)=="string"){u=t}h=false;m.showError(n,u);return}else{}}else{w._break();h=false;m.showError(n,v.url+"无法响应.");return}}};j.push(f)}var k=a({queues:j});k.run(function(){if(h==true){d.showSuccess(n,q.tipsElement,q.successMsg,q.iptElement)}if(s.callback){s.callback(h)}})}};return b}};var formValidateSync={defaultConfig:{showFocus:function(d,b,c,a){},showError:function(d,b,c,a){},showSuccess:function(d,b,c,a){},clearTips:function(a,b,c){}},setDefaultConfig:function(a){var b=this;b.defaultConfig=$.extend({},b.defaultConfig,a)},init:function(b){var d=this;var c={showFocus:function(h,f,g,e){},showError:function(h,f,g,e){},showSuccess:function(h,f,g,e){},clearTips:function(e,f,g){},validate:{}};c=$.extend({},c,d.defaultConfig);c=$.extend({},c,b);var a={clearAllTips:function(){for(var e in c.validate){var f=c.validate[e];if(f!=undefined){c.clearTips(e,f.tipsElement,f.iptElement)}}},showFocus:function(f,g){var e=c.validate[f];if(e==undefined){return}if(e.showFocus!=undefined){e.showFocus(f,e.tipsElement,g,e.iptElement)}else{c.showFocus(f,e.tipsElement,g,e.iptElement)}},showInfo:function(f,g){var e=c.validate[f];if(e==undefined){return}if(e.showFocus!=undefined){e.showFocus(f,e.tipsElement,g,e.iptElement)}else{c.showFocus(f,e.tipsElement,g,e.iptElement)}},showSuccess:function(f,g){var e=c.validate[f];if(e==undefined){return}if(e.showSuccess!=undefined){e.showSuccess(f,e.tipsElement,g,e.iptElement)}else{c.showSuccess(f,e.tipsElement,g,e.iptElement)}},showError:function(f,g){var e=c.validate[f];if(e==undefined){return}if(e.showError!=undefined){e.showError(f,e.tipsElement,g,e.iptElement)}else{c.showError(f,e.tipsElement,g,e.iptElement)}},clearTips:function(f){var e=c.validate[f];if(e==undefined){return}if(e.clearTips!=undefined){e.clearTips(f,e.tipsElement,e.iptElement)}else{c.clearTips(f,e.tipsElement,e.iptElement)}},validateAll:function(){var g=this;var e=[];for(var f in c.validate){e.push(f)}return g.validateMutiRules(e)},validateMutiRules:function(l){var j=this;var e=[];for(var i=0;i<l.length;i++){var h=c.validate[l[i]];if(h==undefined){}else{h.taskName=l[i];e.push(h)}}if(e.length<=0){console.warn("任何需要验证的规则！！！！");return}var k=[];var f=true;for(var g=0;g<e.length;g++){if(j.validateRule(e[g].taskName)==false){f=false}}return f},validateRule:function(m){var l=this;var p=c.validate[m];if(p==undefined){return false}var h=p.getValue();var g=true;if(p.functionValidate==undefined&&(p.ajaxValdiate==undefined||p.ajaxValidate.length<=0)){c.showSuccess(m,p.tipsElement,p.successMsg,p.iptElement);return true}if(p.functionValidate!=undefined){var k=p.functionValidate(h);if(k==false||typeof k=="string"){var n=typeof(k)=="string"?k:p.errorMsg;l.showError(m,n);return false}if(p.ajaxValidate==undefined||p.ajaxValidate.length<=0){l.showSuccess(m,p.successMsg);return true}}if(p.ajaxValidate==undefined||p.ajaxValidate.length<=0){return true}var j=[];var i=true;for(var o=0;o<p.ajaxValidate.length;o++){if(g==false){break}var f=p.ajaxValidate[o];var e={url:f.url,inner_paras:$.extend({},f),data:f.data==undefined?{}:(typeof(f.data)=="function"?f.data():f.data),dataType:f.dataType,method:f.method==undefined?"get":f.method,async:false,success:function(s,t){if(f.success){var q=f.success(s);if(q==false||typeof(q)=="string"){var r=p.errorMsg;if(typeof(q)=="string"){r=q}g=false;l.showError(m,r);i=false}else{}}else{g=false;l.showError(m,p.errorMsg);i=false}},error:function(t,s){if(s.error){var q=s.error();if(q==false||typeof(q)=="string"){var r=p.errorMsg;if(typeof(q)=="string"){r=q}g=false;l.showError(m,r)}else{}}else{g=false;l.showError(m,s.url+"无法响应.")}}};j.push(e);$.ajax(e)}return g}};return a}};