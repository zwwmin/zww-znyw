define("p.Intelligent_login",["p.all"],function(a,b,c){var d={},e=$("#reg-area"),f=e.find('[name="account"]'),g=e.find('[name="password"]'),h=$("#btn-submit"),i=$("#error-msg"),j=i.find('[ui="msg-content"]'),k=util.getQueryObject(),l=$("#lcbox-remember"),m=($("#drag"),$("#btn-verify-code"),$("#dragbox"),UiUtil.ShakeButton({element:h})),n=a("p.all"),o={init:function(a){$.extend(d,a);var b=this;b.initEvents()},initFormUI:function(){null!=localStorage.getItem("my_account_name")&&(setTimeout(function(){f.removeClass("placeholder"),f.val(localStorage.getItem("my_account_name"))},1e3),l.prop("checked",!0))},initEvents:function(){var a=!1;$(window).keydown(function(a){13==a.keyCode&&h.trigger("click")}),h.on("click",function(){i.hide(),a||(a=!0,setTimeout(function(){a=!1},1e3),$.ajax({url:"/login",data:$("#form").serialize(),method:"post",success:function(a){if(0!=a.code){m.shake(),j.text(a.msg),i.show();var b=new ValidateNotice({message:a.msg,location:"inner-right",element:g,considerScroll:!1,ttl:2e3});return void b.show()}return 1!=a.data.member_status?void $(".reg_center").login({status:a.data.member_status}):(l.prop("checked")?localStorage.setItem("my_account_name",f.val()):localStorage.removeItem("my_account_name"),n.showTips("成功登录","success"),void setTimeout(function(){var a="/Intelligent/Intelligent_energy";k.from&&(a=k.from),history.replaceState?(history.replaceState("","",a),location.reload()):location.href=a},500))},error:function(){}}))})}};c.exports=o});